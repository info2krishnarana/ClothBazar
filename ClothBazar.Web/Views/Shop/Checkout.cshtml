@model CheckoutViewModel

@{
    ViewBag.Title = "Checkout";
}

@if (Model != null)
{
    if (Model.CartProducts != null && Model.CartProducts.Count > 0)
    {
        <div>
            @foreach (var product in Model.CartProducts)
            {
                var productQuantity = Model.CartProductIds.Where(productId => productId == product.Id).Count();
                <div>Name- @product.Name, Price- @product.Price, Quantity- @productQuantity, Total Price- @(product.Price*productQuantity) </div>
            }
        </div>
        <div>
            Total Bill- @Model.CartProducts.Sum(p => p.Price * Model.CartProductIds.Where(productId => productId == p.Id).Count());
        </div>
    }
    else
    {
        <div>No products in cart</div>
    }
}

